<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Business Reigns</title>
<style>
body {
  margin: 0;
  background: #000;
  font-family: Arial, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  color: #fff;
}

.app {
  width: 520px;
  max-width: 100%;
  height: 720px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: 14px;
  box-sizing: border-box;
}

.header {
  text-align: center;
  color: #ccc;
  font-size: 24px;
}

.stats { display: flex; flex-direction: column; gap: 6px; }
.stat { font-size: 12px; color: #ccc; }
.stat-label { display: flex; justify-content: space-between; }
.bar {
  height: 6px;
  background: #222;
  border-radius: 4px;
  overflow: hidden;
  position: relative;
}
.fill { height: 100%; background: #aaa; }
.preview { position: absolute; top: 0; right: 0; height: 100%; opacity: 0.8; }
.plus { background: #27ae60; }
.minus { background: #c0392b; }

.card-wrapper { flex: 1; display: flex; align-items: center; justify-content: center; margin: 8px 0; }
.card {
  background: #fff;
  color: #111;
  border-radius: 16px;
  width: 100%;
  height: 320px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 22px;
  text-align: center;
  padding: 20px;
  transition: transform 0.25s ease;
  cursor: grab;
  user-select: none;
}

.choices { display: flex; gap: 8px; margin-top: 10px; }
.choice {
  flex: 1;
  background: #191919;
  color: #fff;
  font-size: 16px;
  font-weight: bold;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  height: 60px;
}

.gameover { text-align: center; display: flex; flex-direction: column; justify-content: center; height: 100%; gap: 16px; }
.gameover button { padding: 10px; border-radius: 10px; border: none; cursor: pointer; font-size: 14px; }
.share { background: #3498db; color: white; }
.retry { background: #2ecc71; color: white; }

/* ===== HORIZONTAL CLASS SELECT ===== */
.class-select {
  display: flex;
  justify-content: space-around;
  gap: 10px;
  flex-wrap: wrap;
  margin: 10px 0;
}

.class-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  background: #fff;
  color: #111;
  padding: 16px;
  border-radius: 16px;
  cursor: pointer;
  min-width: 120px;
  flex: 1;
  text-align: center;
}

.class-card .icon { font-size: 36px; margin-bottom: 8px; }
.class-card .label { font-size: 16px; font-weight: bold; margin-bottom: 6px; }
.class-card .description { font-size: 12px; color: #333; margin-bottom: 6px; }
.class-card .stats { font-size: 12px; color: #555; }

/* ===== MEDIA QUERIES ===== */
@media screen and (max-width: 480px) {
  .app { width: 100%; height: 100%; padding: 10px; }
  .card { height: 50%; font-size: 5vw; }
  .header { font-size: 4vw; }
  .stat { font-size: 3.5vw; }
  .choice { font-size: 4vw; height:50px; }
  .class-card { font-size: 4.5vw; padding: 12px; min-width: 90px; }
  .class-card .icon { font-size: 24px; }
}
</style>
</head>
<body>
<div class="app" id="app"></div>
<script>
// ===== CLASSES =====
const classes = {
  startup: { 
    icon: "üöÄ", 
    label: "IT –°—Ç–∞—Ä—Ç–∞–ø", 
    description: "–ò–Ω–Ω–æ–≤–∞—Ü–∏–∏, –±—ã—Å—Ç—Ä—ã–π —Ä–æ—Å—Ç, –Ω–æ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å", 
    stats:{cash:40,people:70,image:30,chaos:60} 
  },
  seller: { 
    icon: "üõí", 
    label: "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å", 
    description: "–ù–∞–¥–µ–∂–Ω—ã–π –¥–æ—Ö–æ–¥, —Å—Ä–µ–¥–Ω—è—è –∫–æ–º–∞–Ω–¥–∞, —É–º–µ—Ä–µ–Ω–Ω—ã–π —Ä–æ—Å—Ç", 
     stats:{cash:60,people:30,image:40,chaos:50} 
  },
  restaurant: { 
    icon: "üçΩ", 
    label: "–†–µ—Å—Ç–æ—Ä–∞–Ω", 
    description: "–ö–æ–º–∞–Ω–¥–∞ –≤–∞–∂–Ω–∞, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –≤—ã—Å–æ–∫–∏–µ —Ä–∞—Å—Ö–æ–¥—ã", 
    stats:{cash:50,people:60,image:50,chaos:40} 
  }
};

// ===== CARDS =====
const cards = [
  { text:"–î–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º –±–æ–Ω—É—Å?", left:{ e:{cash:-10,people:+5}, r:"–°—ç–∫–æ–Ω–æ–º–∏–ª–∏, –∫–æ–º–∞–Ω–¥–∞ –Ω–µ–¥–æ–≤–æ–ª—å–Ω–∞." }, right:{ e:{cash:-20,people:+15}, r:"–ö–æ–º–∞–Ω–¥–∞ –¥–æ–≤–æ–ª—å–Ω–∞, –¥–µ–Ω—å–≥–∏ –ø–æ—Ç—Ä–∞—á–µ–Ω—ã." }},
  { text:"–ö–ª–∏–µ–Ω—Ç –∂–∞–ª—É–µ—Ç—Å—è –ø—É–±–ª–∏—á–Ω–æ. –û—Ç–≤–µ—Ç–∏—Ç—å?", left:{ e:{image:-10}, r:"–†–µ–ø—É—Ç–∞—Ü–∏—è –ø–æ—Å—Ç—Ä–∞–¥–∞–ª–∞." }, right:{ e:{image:+10,chaos:+5}, r:"–ö–æ–Ω—Ñ–ª–∏–∫—Ç —É–ª–∞–∂–µ–Ω, –Ω–æ –≤—ã –æ—Ç–≤–ª–µ–∫–ª–∏—Å—å." }},
  { text:"–†–∞–∑—Ä–µ—à–∏—Ç—å —É–¥–∞–ª—ë–Ω–∫—É?", left:{ e:{people:-10}, r:"–ö–æ–º–∞–Ω–¥–∞ –Ω–µ–¥–æ–≤–æ–ª—å–Ω–∞." }, right:{ e:{people:+10,chaos:+5}, r:"–ì–∏–±–∫–æ—Å—Ç—å –≤—ã—Ä–æ—Å–ª–∞, –∫–æ–Ω—Ç—Ä–æ–ª—å –æ—Å–ª–∞–±." }},
  { text:"–°—ç–∫–æ–Ω–æ–º–∏—Ç—å –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–µ?", left:{ e:{image:+5}, r:"–ö–ª–∏–µ–Ω—Ç—ã –¥–æ–≤–æ–ª—å–Ω—ã —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é." }, right:{ e:{cash:+10,image:-15}, r:"–î–µ–Ω—å–≥–∏ –µ—Å—Ç—å, –¥–æ–≤–µ—Ä–∏–µ —É–ø–∞–ª–æ." }},

  { text:"–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–µ–∫–ª–∞–º–Ω—É—é –∫–∞–º–ø–∞–Ω–∏—é?", left:{ e:{cash:-15,image:+10}, r:"–î–µ–Ω—å–≥–∏ –ø–æ—Ç—Ä–∞—á–µ–Ω—ã, –æ—Ö–≤–∞—Ç –≤—ã—Ä–æ—Å." }, right:{ e:{cash:-5,image:+5}, r:"–ù–µ–±–æ–ª—å—à–æ–π —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ —Ä–µ–ø—É—Ç–∞—Ü–∏—é." }},
  { text:"–£–≤–æ–ª–∏—Ç—å —Å–ª–∞–±–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞?", left:{ e:{people:-10}, r:"–ö–æ–º–∞–Ω–¥–∞ —Ä–∞—Å—Å—Ç—Ä–æ–µ–Ω–∞." }, right:{ e:{people:+5,chaos:+10}, r:"–ö–æ–º–∞–Ω–¥—É –≤—Å—Ç—Ä—è—Ö–Ω—É–ª–æ, –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ç–µ—Ä—è–Ω." }},
  { text:"–ó–∞–∫–ª—é—á–∏—Ç—å –∫—Ä—É–ø–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç?", left:{ e:{cash:+20,chaos:+5}, r:"–î–µ–Ω—å–≥–∏ –ø—Ä–∏—à–ª–∏, –Ω–æ –Ω–∞–≥—Ä—É–∑–∫–∞ –≤—ã—Ä–æ—Å–ª–∞." }, right:{ e:{cash:+10,image:+5}, r:"–ö–æ–Ω—Ç—Ä–∞–∫—Ç –º–∞–ª–µ–Ω—å–∫–∏–π, —ç—Ñ—Ñ–µ–∫—Ç —É–º–µ—Ä–µ–Ω–Ω—ã–π." }},
  { text:"–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–≥–∞—Ç–∏–≤ –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö?", left:{ e:{image:-15}, r:"–†–µ–ø—É—Ç–∞—Ü–∏—è —É–ø–∞–ª–∞." }, right:{ e:{chaos:-5}, r:"–ù–µ–≥–∞—Ç–∏–≤ –æ—Ç—Å—Ç—É–ø–∏–ª, –Ω–æ –≤–ª–∏—è–Ω–∏–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ." }},
  { text:"–ü—Ä–æ–≤–µ—Å—Ç–∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤?", left:{ e:{cash:-10,people:+10}, r:"–ö–æ–º–∞–Ω–¥–∞ –¥–æ–≤–æ–ª—å–Ω–∞, –¥–µ–Ω—å–≥–∏ –ø–æ—Ç—Ä–∞—á–µ–Ω—ã." }, right:{ e:{cash:-5,people:+5}, r:"–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ –ø—Ä–æ—à–ª–æ —Å–∫—Ä–æ–º–Ω–æ, —ç—Ñ—Ñ–µ–∫—Ç –Ω–µ–±–æ–ª—å—à–æ–π." }},
  { text:"–í–Ω–µ–¥—Ä–∏—Ç—å –Ω–æ–≤—É—é —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é?", left:{ e:{cash:-15,image:+10,chaos:+5}, r:"–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –¥–æ—Ä–æ–≥–∏–µ, –Ω–æ –∏–º–∏–¥–∂ –ø–æ–¥–Ω—è–ª—Å—è." }, right:{ e:{cash:-5,image:+2}, r:"–ú–∞–ª–µ–Ω—å–∫–∞—è –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è." }},
  { text:"–ü—Ä–∏–Ω—è—Ç—å –∫—Ä—É–ø–Ω–æ–≥–æ –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞?", left:{ e:{cash:+30,chaos:+15}, r:"–î–µ–Ω—å–≥–∏ –ø—Ä–∏—à–ª–∏, –Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª—å –æ—Å–ª–∞–±." }, right:{ e:{cash:+10}, r:"–ú–∞–ª–µ–Ω—å–∫–∏–π –∏–Ω–≤–µ—Å—Ç–æ—Ä, —ç—Ñ—Ñ–µ–∫—Ç —É–º–µ—Ä–µ–Ω–Ω—ã–π." }},
  { text:"–£—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞—Å–ø—Ä–æ–¥–∞–∂—É?", left:{ e:{cash:+5,image:-5}, r:"–ü—Ä–æ–¥–∞–∂–∏ –≤—ã—Ä–æ—Å–ª–∏, –ø—Ä–∏–±—ã–ª—å —É–ø–∞–ª–∞." }, right:{ e:{cash:+10}, r:"–ü—Ä–∏–±—ã–ª—å —á—É—Ç—å —É–≤–µ–ª–∏—á–∏–ª–∞—Å—å." }},
  { text:"–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∂–∞–ª–æ–±—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤?", left:{ e:{people:-15,chaos:+10}, r:"–ö–æ–º–∞–Ω–¥–∞ –¥–µ–º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞." }, right:{ e:{people:-5}, r:"–°–ª–∞–±—ã–π —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ –º–æ—Ä–∞–ª—å." }},
  { text:"–ù–∞–Ω—è—Ç—å –∑–≤–µ–∑–¥—É —Ä—ã–Ω–∫–∞?", left:{ e:{cash:-20,people:+10,image:+15}, r:"–î–µ–Ω—å–≥–∏ –ø–æ—Ç—Ä–∞—á–µ–Ω—ã, —ç—Ñ—Ñ–µ–∫—Ç —Å–∏–ª—å–Ω—ã–π." }, right:{ e:{cash:-10,image:+5}, r:"–≠—Ñ—Ñ–µ–∫—Ç —É–º–µ—Ä–µ–Ω–Ω—ã–π." }},
  { text:"–°–¥–µ–ª–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫ –∫–ª—é—á–µ–≤–æ–º—É –∫–ª–∏–µ–Ω—Ç—É?", left:{ e:{cash:-10,image:+10}, r:"–†–µ–ø—É—Ç–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–∞, –¥–µ–Ω—å–≥–∏ –ø–æ—Ç—Ä–∞—á–µ–Ω—ã." }, right:{ e:{cash:-5}, r:"–≠—Ñ—Ñ–µ–∫—Ç –Ω–µ–±–æ–ª—å—à–æ–π." }},
  { text:"–ü—Ä–æ–≤–µ—Å—Ç–∏ –æ–±—É—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã?", left:{ e:{cash:-15,people:+15}, r:"–ö–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–∫–∞—á–∞–Ω–∞, –¥–µ–Ω—å–≥–∏ –ø–æ—Ç—Ä–∞—á–µ–Ω—ã." }, right:{ e:{people:+5}, r:"–ù–µ–±–æ–ª—å—à–æ–π —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ –Ω–∞–≤—ã–∫–∏." }},
  { text:"–ó–∞–∫—Ä—ã—Ç—å —É–±—ã—Ç–æ—á–Ω—ã–π –ø—Ä–æ–µ–∫—Ç?", left:{ e:{cash:+10,chaos:+5}, r:"–î–µ–Ω—å–≥–∏ —Å—ç–∫–æ–Ω–æ–º–ª–µ–Ω—ã, –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ç–µ—Ä—è–Ω." }, right:{ e:{cash:+5}, r:"–≠—Ñ—Ñ–µ–∫—Ç —É–º–µ—Ä–µ–Ω–Ω—ã–π." }},
  { text:"–°–¥–µ–ª–∞—Ç—å PR-—à—É–º?", left:{ e:{cash:-10,image:+15}, r:"–†–µ–ø—É—Ç–∞—Ü–∏—è –≤—ã—Ä–æ—Å–ª–∞, —Ä–∞—Å—Ö–æ–¥—ã –±–æ–ª—å—à–∏–µ." }, right:{ e:{image:+5}, r:"–ú–∞–ª—ã–π —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ –∏–º–∏–¥–∂." }},
  { text:"–ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã?", left:{ e:{people:-5,chaos:+10}, r:"–ö–æ–º–∞–Ω–¥–∞ –Ω–µ–¥–æ–≤–æ–ª—å–Ω–∞, —Ö–∞–æ—Å –≤—ã—Ä–æ—Å." }, right:{ e:{people:+5,chaos:-5}, r:"–ù–µ–∫–æ—Ç–æ—Ä–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ." }},
  { text:"–í–Ω–µ–¥—Ä–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é –ø—Ä–æ—Ü–µ—Å—Å–æ–≤?", left:{ e:{cash:-15,chaos:-10}, r:"–î–µ–Ω—å–≥–∏ –ø–æ—Ç—Ä–∞—á–µ–Ω—ã, —Ö–∞–æ—Å —É–º–µ–Ω—å—à–∏–ª—Å—è." }, right:{ e:{cash:-5,chaos:-2}, r:"–ú–∞–ª—ã–π —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å—ã." }}

];

let stats, days=1, currentCard, cardEl;
let deck = [];

// ===== RENDER =====
const app = document.getElementById("app");

function renderClassSelect() {
  app.innerHTML = `
    <div>
      <div style="text-align:center; font-size:24px; margin-bottom:16px;">
        –í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å
      </div>
      <div class="class-select">
        ${Object.keys(classes).map(k=>`
          <div class="class-card" onclick="startGame('${k}')">
            <div class="icon">${classes[k].icon}</div>
            <div class="label">${classes[k].label}</div>
            <div class="description">${classes[k].description}</div>

          </div>
        `).join('')}
      </div>
    </div>
  `;
}

function renderGame() {
  app.innerHTML = `
    <div class="header">–î–µ–Ω—å ${days}</div>
    <div class="stats">
      ${stat("üí∞ –î–µ–Ω—å–≥–∏","cash")}
      ${stat("üë• –ö–æ–º–∞–Ω–¥–∞","people")}
      ${stat("üìà –†–µ–ø—É—Ç–∞—Ü–∏—è","image")}
      ${stat("‚öôÔ∏è –ü—Ä–æ—Ü–µ—Å—Å—ã","chaos")}
    </div>
    <div class="card-wrapper">
      <div class="card" id="card">${currentCard.text}</div>
    </div>
    <div class="choices">
      <div class="choice" onmouseenter="hover('left')" onmouseleave="resetCard()" onclick="choose('left')">–ù–ï–¢</div>
      <div class="choice" onmouseenter="hover('right')" onmouseleave="resetCard()" onclick="choose('right')">–î–ê</div>
    </div>
  `;
  cardEl = document.getElementById("card");
  enableDrag();
}

function stat(label,key) {
  return `
    <div class="stat">
      <div class="stat-label"><span>${label}</span><span>${stats[key]}%</span></div>
      <div class="bar" id="bar-${key}"><div class="fill" style="width:${stats[key]}%"></div></div>
    </div>
  `;
}

// ===== GAME LOGIC =====
function startGame(cls) {
  stats = {...classes[cls].stats};
  days = 1;
  deck = [...cards];
  nextCard();
}

function nextCard() {
  if(deck.length===0){ deck=[...cards]; }
  const idx = Math.floor(Math.random()*deck.length);
  currentCard = deck[idx];
  deck.splice(idx,1);
  clearPreview();
  renderGame();
}

function choose(side) {
  const eff=currentCard[side].e;
  for(let k in eff) stats[k]=Math.max(0,Math.min(100,stats[k]+eff[k]));
  days++;
  setTimeout(()=>{ if(Object.values(stats).some(v=>v<=0)) gameOver(); else nextCard(); },300);
}

// ===== CARD MOVEMENT =====
function hover(side) { const angle=side==="left"?-10:10; cardEl.style.transform=`translateX(${angle*4}px) rotate(${angle}deg)`; preview(side); }
function resetCard() { cardEl.style.transform="translateX(0) rotate(0)"; clearPreview(); }

// ===== DRAG =====
function enableDrag() {
  let startX=0,dragging=false;
  cardEl.onmousedown=e=>{dragging=true;startX=e.clientX;};
  document.onmouseup=()=>{dragging=false;resetCard();};
  document.onmousemove=e=>{if(!dragging)return;const dx=e.clientX-startX;cardEl.style.transform=`translateX(${dx}px) rotate(${dx/10}deg)`;}
}

// ===== PREVIEW =====
function preview(side){ clearPreview(); const eff=currentCard[side].e; for(let k in eff){ const bar=document.getElementById("bar-"+k); const p=document.createElement("div"); p.className="preview "+(eff[k]>0?"plus":"minus"); p.style.width=Math.abs(eff[k])+"%"; bar.appendChild(p);} }
function clearPreview(){ document.querySelectorAll(".preview").forEach(p=>p.remove()); }

// ===== GAME OVER =====
function gameOver() {
  app.innerHTML=`<div class="gameover">
      <h1>–ë–∏–∑–Ω–µ—Å –∑–∞–∫—Ä—ã–ª—Å—è</h1>
      <p>–í—ã –ø—Ä–æ–¥–µ—Ä–∂–∞–ª–∏—Å—å <b>${days}</b> –¥–Ω–µ–π</p>
      <button class="share" onclick="share()">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
      <button class="retry" onclick="location.reload()">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
  </div>`;
}
function share(){ const text=`–Ø –ø—Ä–æ–¥–µ—Ä–∂–∞–ª—Å—è ${days} –¥–Ω–µ–π –≤ Business Reigns. –ê —Ç—ã?`; if(navigator.share) navigator.share({text}); else alert(text); }

// START
renderClassSelect();
</script>
</body>
</html>
